{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { omit } from \"lodash\";\nimport \"../EmployeeComponent/ListEmployee.css\";\nimport EmployeeService from \"../Services/EmployeeService\";\nimport CustomerService from \"../Services/CustomerService\";\nimport { useSelector } from \"react-redux\";\n\nconst useForm = callback => {\n  _s();\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [password, setPassword] = useState({});\n  const [employee, setEmployee] = useState([]);\n  const [customer, setCustomer] = useState([]);\n  const [emailValue, setEmailValue] = useState([]);\n  const userNameCustomer = nill;\n  const userLength = 0;\n  userNameCustomer = useSelector(state => state.findUser);\n  useEffect(() => {\n    getAllEmployee();\n    getCustomerAll();\n    console.log(\"employee : \", employee);\n    userLength = userNameCustomer.length;\n    console.log(\"out if user length : \", userLength);\n    console.log(\"out if user : \", userNameCustomer);\n  }, []);\n\n  const getAllEmployee = () => {\n    EmployeeService.getAllEmployee().then(response => {\n      setEmployee(response.data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n  };\n\n  const getCustomerAll = () => {\n    CustomerService.getCustomerAll().then(response => {\n      console.log(response.data);\n      setCustomer(response.data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n  };\n\n  const getPasswordValue = event => {\n    event.persist();\n    setPassword(event.target.value);\n  };\n\n  const handleChange = event => {\n    event.persist();\n    let name = event.target.name;\n    let val = event.target.value;\n    validate(event, name, val);\n    setValues({ ...values,\n      // spread operator to store old values\n      [name]: val\n    });\n  };\n\n  const handleSubmit = event => {\n    if (event) event.preventDefault();\n\n    if (Object.keys(errors).length === 0 && Object.keys(values).length !== 0) {\n      callback();\n      alert(\"There is an Error!\");\n    } else {\n      alert(\"There is an Error!\");\n    }\n  };\n\n  const validate = (event, name, values) => {\n    switch (name) {\n      case \"firstName\":\n        if (values.length <= 2) {\n          setErrors({ ...errors,\n            firstName: \"name is invalid\"\n          });\n        } else {\n          console.log(event.target.value);\n          let newObj = omit(errors, \"firstName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"lastName\":\n        if (values.length <= 2) {\n          setErrors({ ...errors,\n            lastName: \"name is invalid\"\n          });\n        } else {\n          let newObj = omit(errors, \"lastName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"userName\":\n        console.log(\"in if user length : \", userLength);\n        console.log(\"in if user : \", userNameCustomer);\n\n        if (!new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(values)) {\n          setErrors({ ...errors,\n            userName: \"Enter a valid email address\"\n          });\n        } else if (employee.filter(e => e.userName == values).length > 0 && userNameCustomer.length <= 0) {\n          setErrors({ ...errors,\n            userName: \"Already registred\"\n          });\n        } else {\n          let newObj = omit(errors, \"userName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"mobileNumber\":\n        if (values.length != 10) {\n          setErrors({ ...errors,\n            mobileNumber: \"mobile number is invalid\"\n          });\n        } else {\n          let newObj = omit(errors, \"mobileNumber\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"password\":\n        if (!new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(values)) {\n          setErrors({ ...errors,\n            password: \"Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers\"\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"password1\":\n        if (values != password) {\n          setErrors({ ...errors,\n            password1: \"Password not matched\"\n          });\n        } else {\n          let newObj = omit(errors, \"password1\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return {\n    values,\n    errors,\n    handleChange,\n    getPasswordValue,\n    handleSubmit\n  };\n};\n\n_s(useForm, \"02h3PsvRySICP6ugyNnVPijBngE=\", false, function () {\n  return [useSelector];\n});\n\nexport default useForm;","map":{"version":3,"names":["React","useEffect","useState","omit","EmployeeService","CustomerService","useSelector","useForm","callback","values","setValues","errors","setErrors","password","setPassword","employee","setEmployee","customer","setCustomer","emailValue","setEmailValue","userNameCustomer","nill","userLength","state","findUser","getAllEmployee","getCustomerAll","console","log","length","then","response","data","catch","error","getPasswordValue","event","persist","target","value","handleChange","name","val","validate","handleSubmit","preventDefault","Object","keys","alert","firstName","newObj","lastName","RegExp","test","userName","filter","e","mobileNumber","password1"],"sources":["/home/sagarvitakare/Documents/React/bus-management-frontend/src/Hooks/useForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { omit } from \"lodash\";\nimport \"../EmployeeComponent/ListEmployee.css\";\nimport EmployeeService from \"../Services/EmployeeService\";\nimport CustomerService from \"../Services/CustomerService\";\nimport { useSelector } from \"react-redux\";\n\nconst useForm = (callback) => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [password,setPassword] = useState({});\n  const [employee, setEmployee] = useState([]);\n  const [customer, setCustomer] = useState([]);\n  const [emailValue, setEmailValue] = useState([]);\n  \n  const userNameCustomer=nill;\n  const userLength=0;\n  userNameCustomer = useSelector((state)=>state.findUser);\n  useEffect(()=>{\n    getAllEmployee();\n    getCustomerAll();\n    console.log(\"employee : \",employee);\n    \n     userLength = userNameCustomer.length;\n    console.log(\"out if user length : \",userLength)\n    console.log(\"out if user : \",userNameCustomer)\n  },[])\n\n  const getAllEmployee=()=>{\n    EmployeeService.getAllEmployee()\n    .then((response)=>{\n      setEmployee(response.data);\n    })\n    .catch((error)=>{\n      console.log(error.response.data);\n    })\n  };\n\n  const getCustomerAll=()=>{\n\n    CustomerService.getCustomerAll().then((response)=>{\n      console.log(response.data)\n      setCustomer(response.data)\n    }).catch(error=>{\n      console.log(error.response.data)\n    })\n  }\n\n  const getPasswordValue =(event)=>{\n    event.persist();\n    setPassword(event.target.value);\n  }\n\n  const handleChange = (event) => {\n    event.persist();\n    \n    let name = event.target.name;\n    let val = event.target.value;\n\n    validate(event, name, val);\n\n    setValues({\n      ...values, // spread operator to store old values\n      [name]: val,\n    });\n  };\n\n  const handleSubmit=(event)=>{\n      if (event) event.preventDefault()\n      \n      if(Object.keys(errors).length === 0 && Object.keys(values).length !==0) {\n\n        callback();\n        alert(\"There is an Error!\");\n      }\n      else{\n        alert(\"There is an Error!\");\n      }\n  } \n\n  const validate = (event, name, values) => {\n    switch (name) {\n      case \"firstName\":\n        if (values.length <= 2) {\n          setErrors({\n            ...errors,\n            firstName: \"name is invalid\",\n          });\n        } else {\n          console.log(event.target.value);\n          let newObj = omit(errors, \"firstName\");\n          setErrors(newObj);\n        }\n        break;\n\n      case \"lastName\":\n        if (values.length <= 2) {\n          setErrors({\n            ...errors,\n            lastName: \"name is invalid\",\n          });\n        } else {\n          let newObj = omit(errors, \"lastName\");\n          setErrors(newObj);\n        }\n        break;\n\n      case \"userName\":\n        console.log(\"in if user length : \",userLength)\n        console.log(\"in if user : \",userNameCustomer)\n        if (\n          !new RegExp(\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n          ).test(values)\n        ) {\n          setErrors({\n            ...errors,\n            userName: \"Enter a valid email address\",\n          });\n        }\n        else if(employee.filter((e)=>e.userName==values).length>0 && userNameCustomer.length<=0){\n          setErrors({\n            ...errors,\n            userName: \"Already registred\"\n          });\n        }\n        else {\n          let newObj = omit(errors, \"userName\");\n          setErrors(newObj);\n        }\n        break;\n\n       \n\n\n        case \"mobileNumber\":\n          if (values.length!=10) {\n            setErrors({\n              ...errors,\n              mobileNumber:\"mobile number is invalid\",\n            });\n          }else{\n            let newObj = omit(errors,\"mobileNumber\")\n            setErrors(newObj);\n          }\n          break;\n\n      case \"password\":\n        if (\n          !new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(\n            values\n          )\n        ) {\n          setErrors({\n            ...errors,\n            password:\n              \"Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers\",\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n        break;\n\n        case \"password1\":\n            if (values!=password) {\n              setErrors({\n                ...errors,\n                password1:\n                \"Password not matched\",\n              });\n            }else{\n              let newObj = omit(errors,\"password1\");\n              setErrors(newObj);\n            }\n          break;  \n\n      default:\n        break;\n    }\n  };\n\n  return {\n    values,\n    errors,\n    handleChange,\n    getPasswordValue,\n    handleSubmit\n  };\n};\n\nexport default useForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}