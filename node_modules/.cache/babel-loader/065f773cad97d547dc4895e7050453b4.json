{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { omit } from \"lodash\";\nimport CustomerService from '../Services/CustomerService';\n\nconst useFormCustomer = () => {\n  _s();\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [customer, setCustomer] = useState([]);\n  useEffect(() => {\n    getCustomerAll();\n  }, []);\n\n  const getCustomerAll = () => {\n    CustomerService.getCustomerAll().then(response => {\n      console.log(response.data);\n      setCustomer(response.data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n  };\n\n  const handleChangeCustomer = event => {\n    event.persist();\n    let name = event.target.name;\n    let val = event.target.value;\n    validate(event, name, val);\n    setValues({ ...values,\n      [name]: val\n    });\n  };\n\n  const validate = (event, name, values) => {\n    switch (name) {\n      case \"firstName\":\n        if (values.length <= 2) {\n          setErrors({ ...errors,\n            firstName: \"name is invalid\"\n          });\n        } else {\n          console.log(event.target.value);\n          let newObj = omit(errors, \"firstName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"lastName\":\n        if (values.length <= 2) {\n          setErrors({ ...errors,\n            lastName: \"name is invalid\"\n          });\n        } else {\n          let newObj = omit(errors, \"lastName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"userName\":\n        console.log(\"in if user length : \", userLength);\n        console.log(\"in if user : \", userNameCustomer);\n\n        if (!new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(values)) {\n          setErrors({ ...errors,\n            userName: \"Enter a valid email address\"\n          });\n        } else if (employee.filter(e => e.userName == values).length > 0) {\n          setErrors({ ...errors,\n            userName: \"Already registred\"\n          });\n        } else if (customer.filter(e => e.userName == values).length > 0) {\n          setErrors({ ...errors,\n            userName: \"Already registred\"\n          });\n        } else {\n          let newObj = omit(errors, \"userName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"mobileNumber\":\n        if (values.length != 10) {\n          setErrors({ ...errors,\n            mobileNumber: \"mobile number is invalid\"\n          });\n        } else {\n          let newObj = omit(errors, \"mobileNumber\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"password\":\n        if (!new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(values)) {\n          setErrors({ ...errors,\n            password: \"Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers\"\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      case \"password1\":\n        if (values != password) {\n          setErrors({ ...errors,\n            password1: \"Password not matched\"\n          });\n        } else {\n          let newObj = omit(errors, \"password1\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return {\n    values,\n    errors,\n    handleChangeCustomer\n  };\n};\n\n_s(useFormCustomer, \"OgvXGgbxQ7VFtgeqnzC35FZaSUo=\");\n\nexport default useFormCustomer;","map":{"version":3,"names":["React","useEffect","useState","useSelector","omit","CustomerService","useFormCustomer","values","setValues","errors","setErrors","customer","setCustomer","getCustomerAll","then","response","console","log","data","catch","error","handleChangeCustomer","event","persist","name","target","val","value","validate","length","firstName","newObj","lastName","userLength","userNameCustomer","RegExp","test","userName","employee","filter","e","mobileNumber","password","password1"],"sources":["/home/sagarvitakare/Documents/React/bus-management-frontend/src/Hooks/useFormCustomer.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\nimport { useSelector } from 'react-redux';\nimport { omit } from \"lodash\";\nimport CustomerService from '../Services/CustomerService';\n\nconst useFormCustomer = () => {\n\n    const [values, setValues]= useState({});\n    const [errors, setErrors] = useState({});\n    const [customer, setCustomer] = useState([]);\n\n   \n    \n    useEffect(()=>{\n      getCustomerAll();\n    },[])\n\n    const getCustomerAll=()=>{\n\n      CustomerService.getCustomerAll().then((response)=>{\n        console.log(response.data)\n        setCustomer(response.data)\n      }).catch(error=>{\n        console.log(error.response.data)\n      })\n    }\n    \n    const handleChangeCustomer =(event)=>{\n        event.persist();\n      \n        let name = event.target.name;\n        let val = event.target.value;\n\n        validate(event,name,val)\n\n        setValues({\n            ...values,\n            [name]:val,\n        })\n    }\n\n   const validate=(event,name,values)=>{\n    switch (name) {\n      case \"firstName\":\n        if (values.length <= 2) {\n          setErrors({\n            ...errors,\n            firstName: \"name is invalid\",\n          });\n        } else {\n          console.log(event.target.value);\n          let newObj = omit(errors, \"firstName\");\n          setErrors(newObj);\n        }\n        break;\n\n      case \"lastName\":\n        if (values.length <= 2) {\n          setErrors({\n            ...errors,\n            lastName: \"name is invalid\",\n          });\n        } else {\n          let newObj = omit(errors, \"lastName\");\n          setErrors(newObj);\n        }\n        break;\n\n      case \"userName\":\n        console.log(\"in if user length : \",userLength)\n        console.log(\"in if user : \",userNameCustomer)\n        if (\n          !new RegExp(\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n          ).test(values)\n        ) {\n          setErrors({\n            ...errors,\n            userName: \"Enter a valid email address\",\n          });\n        }\n        else if(employee.filter((e)=>e.userName==values).length>0){\n          setErrors({\n            ...errors,\n            userName: \"Already registred\"\n          });\n        }\n        else if(customer.filter((e)=>e.userName==values).length>0){\n          setErrors({\n            ...errors,\n            userName: \"Already registred\"\n          })\n        }\n        else {\n          let newObj = omit(errors, \"userName\");\n          setErrors(newObj);\n        }\n        break;\n\n       \n\n\n        case \"mobileNumber\":\n          if (values.length!=10) {\n            setErrors({\n              ...errors,\n              mobileNumber:\"mobile number is invalid\",\n            });\n          }else{\n            let newObj = omit(errors,\"mobileNumber\")\n            setErrors(newObj);\n          }\n          break;\n\n      case \"password\":\n        if (\n          !new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(\n            values\n          )\n        ) {\n          setErrors({\n            ...errors,\n            password:\n              \"Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers\",\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n        break;\n\n        case \"password1\":\n            if (values!=password) {\n              setErrors({\n                ...errors,\n                password1:\n                \"Password not matched\",\n              });\n            }else{\n              let newObj = omit(errors,\"password1\");\n              setErrors(newObj);\n            }\n          break;  \n\n      default:\n        break;\n    }\n   };\n\n  return {\n    values,\n    errors,\n    handleChangeCustomer,\n\n  };\n};\n\nexport default useFormCustomer"],"mappings":"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"},"metadata":{},"sourceType":"module"}