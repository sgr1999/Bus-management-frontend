{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { omit } from \"lodash\";\n\nconst useFormCustomer = () => {\n  _s();\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [customer, setCustomer] = useState([]); // setCustomer(useSelector((state)=>state.changeTheNumber));\n\n  const value = useSelector(state => state.changeTheNumber);\n  console.log(\"selector : \", useSelector(state => state.changeTheNumber));\n  console.log(\"valueSelector : \", value);\n  setCustomer(cus);\n  useEffect(() => {//setCustomer(cus)\n  });\n\n  const handleChangeCustomer = event => {\n    event.persist();\n    let name = event.target.name;\n    let val = event.target.value;\n    validate(event, name, val);\n    setValues({ ...values,\n      [name]: val\n    });\n  };\n\n  const validate = (event, name, values) => {\n    switch (name) {\n      case \"userName\":\n        console.log(\"customer \", customer);\n        console.log(\"values \", values);\n\n        if (!new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(values)) {\n          setErrors({ ...errors,\n            userName: \"Enter a valid email address\"\n          });\n        } else if (customer.filter(e => e.userName == values).length > 0) {\n          setErrors({ ...errors,\n            userName: \"Already registred\"\n          });\n        } else {\n          let newObj = omit(errors, \"userName\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return {\n    values,\n    errors,\n    handleChangeCustomer\n  };\n};\n\n_s(useFormCustomer, \"K+xd4kbvelIrDEbjSgCgwOgUOAY=\", false, function () {\n  return [useSelector, useSelector];\n});\n\nexport default useFormCustomer;","map":{"version":3,"names":["React","useEffect","useState","useSelector","omit","useFormCustomer","values","setValues","errors","setErrors","customer","setCustomer","value","state","changeTheNumber","console","log","cus","handleChangeCustomer","event","persist","name","target","val","validate","RegExp","test","userName","filter","e","length","newObj"],"sources":["/home/sagarvitakare/Documents/React/bus-management-frontend/src/Hooks/useFormCustomer.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\nimport { useSelector } from 'react-redux';\nimport { omit } from \"lodash\";\n\nconst useFormCustomer = () => {\n\n    const [values, setValues]= useState({});\n    const [errors, setErrors] = useState({});\n    const [customer, setCustomer] = useState([]);\n\n    // setCustomer(useSelector((state)=>state.changeTheNumber));\n    const value = useSelector((state)=>state.changeTheNumber)\n\n    console.log(\"selector : \",useSelector((state)=>state.changeTheNumber))\n    console.log(\"valueSelector : \",value)\n    setCustomer(cus)\n    useEffect(()=>{\n      //setCustomer(cus)\n    })\n    \n    const handleChangeCustomer =(event)=>{\n        event.persist();\n      \n        let name = event.target.name;\n        let val = event.target.value;\n\n        validate(event,name,val)\n\n        setValues({\n            ...values,\n            [name]:val,\n        })\n    }\n\n   const validate=(event,name,values)=>{\n       switch(name){\n           case \"userName\":\n           \n             console.log(\"customer \",customer)\n             console.log(\"values \",values)\n            if (\n                !new RegExp(\n                  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                ).test(values)\n              ) {\n                setErrors({\n                  ...errors,\n                  userName: \"Enter a valid email address\",\n                });\n              }\n              else if (customer.filter((e)=>e.userName==values).length>0) {\n                setErrors({\n                  ...errors,\n                  userName: \"Already registred\"\n                });\n              }\n              else {\n                let newObj = omit(errors, \"userName\");\n                setErrors(newObj);\n              }\n              break;\n\n              default:\n                break;\n       }\n   }\n\n  return {\n    values,\n    errors,\n    handleChangeCustomer,\n\n  }\n}\n\nexport default useFormCustomer"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,QAAqB,QAArB;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAE1B,MAAM,CAACC,MAAD,EAASC,SAAT,IAAqBL,QAAQ,CAAC,EAAD,CAAnC;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC,CAJ0B,CAM1B;;EACA,MAAMU,KAAK,GAAGT,WAAW,CAAEU,KAAD,IAASA,KAAK,CAACC,eAAhB,CAAzB;EAEAC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0Bb,WAAW,CAAEU,KAAD,IAASA,KAAK,CAACC,eAAhB,CAArC;EACAC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BJ,KAA/B;EACAD,WAAW,CAACM,GAAD,CAAX;EACAhB,SAAS,CAAC,MAAI,CACZ;EACD,CAFQ,CAAT;;EAIA,MAAMiB,oBAAoB,GAAGC,KAAD,IAAS;IACjCA,KAAK,CAACC,OAAN;IAEA,IAAIC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAaD,IAAxB;IACA,IAAIE,GAAG,GAAGJ,KAAK,CAACG,MAAN,CAAaV,KAAvB;IAEAY,QAAQ,CAACL,KAAD,EAAOE,IAAP,EAAYE,GAAZ,CAAR;IAEAhB,SAAS,CAAC,EACN,GAAGD,MADG;MAEN,CAACe,IAAD,GAAOE;IAFD,CAAD,CAAT;EAIH,CAZD;;EAcD,MAAMC,QAAQ,GAAC,CAACL,KAAD,EAAOE,IAAP,EAAYf,MAAZ,KAAqB;IAChC,QAAOe,IAAP;MACI,KAAK,UAAL;QAEEN,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBN,QAAxB;QACAK,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBV,MAAtB;;QACD,IACI,CAAC,IAAImB,MAAJ,CACC,uJADD,EAECC,IAFD,CAEMpB,MAFN,CADL,EAII;UACAG,SAAS,CAAC,EACR,GAAGD,MADK;YAERmB,QAAQ,EAAE;UAFF,CAAD,CAAT;QAID,CATH,MAUO,IAAIjB,QAAQ,CAACkB,MAAT,CAAiBC,CAAD,IAAKA,CAAC,CAACF,QAAF,IAAYrB,MAAjC,EAAyCwB,MAAzC,GAAgD,CAApD,EAAuD;UAC1DrB,SAAS,CAAC,EACR,GAAGD,MADK;YAERmB,QAAQ,EAAE;UAFF,CAAD,CAAT;QAID,CALI,MAMA;UACH,IAAII,MAAM,GAAG3B,IAAI,CAACI,MAAD,EAAS,UAAT,CAAjB;UACAC,SAAS,CAACsB,MAAD,CAAT;QACD;;QACD;;MAEA;QACE;IA5BT;EA8BH,CA/BD;;EAiCD,OAAO;IACLzB,MADK;IAELE,MAFK;IAGLU;EAHK,CAAP;AAMD,CArED;;GAAMb,e;UAOYF,W,EAEYA,W;;;AA8D9B,eAAeE,eAAf"},"metadata":{},"sourceType":"module"}